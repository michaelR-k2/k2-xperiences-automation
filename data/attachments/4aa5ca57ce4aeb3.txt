# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: @experiences - Validar que la tabla de experiencias pueda ser filtrada por Dia de Creación
- Location: /home/runner/work/k2-xperiences-automation/k2-xperiences-automation/e2e/tests/modules/experiences/experiences.spec.js:39:5

# Error details

```
Error: locator.click: Test timeout of 300000ms exceeded.
Call log:
  - waiting for locator('button:has-text("2")').first()
    - locator resolved to <button type="button" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground rounded-md px-3 h-7 w-full truncate text-sm font-medium">April 2025</button>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <iframe></iframe> from <div>…</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <iframe></iframe> from <div>…</div> subtree intercepts pointer events
    - retrying click action
      - waiting 100ms
    577 × waiting for element to be visible, enabled and stable
        - element is visible, enabled and stable
        - scrolling into view if needed
        - done scrolling
        - <iframe></iframe> from <div>…</div> subtree intercepts pointer events
      - retrying click action
        - waiting 500ms

    at ExperiencesPage.filterByDateAndAssert (/home/runner/work/k2-xperiences-automation/k2-xperiences-automation/e2e/pages/BasePage.js:54:66)
    at /home/runner/work/k2-xperiences-automation/k2-xperiences-automation/e2e/tests/modules/experiences/experiences.spec.js:44:5
```

# Page snapshot

```yaml
- complementary:
  - img "Logo_K2_Travel"
  - button:
    - img
  - navigation:
    - link "Dashboard":
      - img
      - text: Dashboard
    - link "Requests":
      - img
      - text: Requests
    - link "Projects":
      - img
      - text: Projects
    - link "Catalogue":
      - img
      - text: Catalogue
    - link "Vendors":
      - img
      - text: Vendors
    - link "Trip Users":
      - img
      - text: Trip Users
    - link "File System":
      - img
      - text: File System
  - button:
    - img
- main:
  - heading "Experiences (74)" [level=2]
  - button "Create new experience"
  - table:
    - rowgroup:
      - row "ID Created At Pick a date Experience Destination Duration 1 1 10+ 10 Packages 1 1 10+ 10 Starting at Status Signature":
        - cell
        - cell "ID":
          - text: ID
          - button:
            - img
          - textbox
        - cell "Created At Pick a date":
          - text: Created At
          - button:
            - img
          - button "Pick a date" [expanded]:
            - text: Pick a date
            - img
        - cell "Experience":
          - text: Experience
          - button:
            - img
          - textbox
        - cell "Destination":
          - text: Destination
          - button:
            - img
          - textbox
        - cell "Duration 1 1 10+ 10":
          - text: Duration
          - button:
            - img
          - text: "1"
          - slider "Minimum"
          - text: 10+
          - slider "Maximum"
        - cell "Packages 1 1 10+ 10":
          - text: Packages
          - button:
            - img
          - text: "1"
          - slider "Minimum"
          - text: 10+
          - slider "Maximum"
        - cell "Starting at":
          - text: Starting at
          - button:
            - img
          - textbox
        - cell "Status":
          - text: Status
          - button:
            - img
          - combobox: All
        - cell "Signature":
          - text: Signature
          - button:
            - img
          - textbox
    - rowgroup:
      - row "Toggle menu 74 03/04/2025 Experiencia de Prueba from QA 03 - 04 --- 5 - edited Afghanistan 2 - 6 3 - 10 $545,454.00 Inactive":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "74"
        - cell "03/04/2025"
        - cell "Experiencia de Prueba from QA 03 - 04 --- 5 - edited"
        - cell "Afghanistan"
        - cell "2 - 6"
        - cell "3 - 10"
        - cell "$545,454.00"
        - cell "Inactive"
        - cell:
          - img
      - row "Toggle menu 73 03/04/2025 Experiencia de Prueba from QA Mexico City, Mexico 3 - 4 1 - 5 $25,000.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "73"
        - cell "03/04/2025"
        - cell "Experiencia de Prueba from QA"
        - cell "Mexico City, Mexico"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$25,000.00"
        - cell "Active"
        - cell:
          - img
      - row "Toggle menu 72 03/04/2025 Experiencia de Prueba from QA - 03/04 Colombia 3 - 4 1 - 5 $25,400.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "72"
        - cell "03/04/2025"
        - cell "Experiencia de Prueba from QA - 03/04"
        - cell "Colombia"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$25,400.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 71 02/04/2025 Prueba Experiencia Andres Villarreta #4 Africa 2 - 3 2 - 3 $3,995.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "71"
        - cell "02/04/2025"
        - 'cell "Prueba Experiencia Andres Villarreta #4"'
        - cell "Africa"
        - cell "2 - 3"
        - cell "2 - 3"
        - cell "$3,995.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 70 02/04/2025 Prueba Experiencia Andres Villarreta #3 Alexandria, Egypt 2 - 2 2 - 2 $2,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "70"
        - cell "02/04/2025"
        - 'cell "Prueba Experiencia Andres Villarreta #3"'
        - cell "Alexandria, Egypt"
        - cell "2 - 2"
        - cell "2 - 2"
        - cell "$2,500.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 69 02/04/2025 Prueba experiencia Andres Villarreta #2 Bangladesh 2 - 3 1 - 3 $3,000.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "69"
        - cell "02/04/2025"
        - 'cell "Prueba experiencia Andres Villarreta #2"'
        - cell "Bangladesh"
        - cell "2 - 3"
        - cell "1 - 3"
        - cell "$3,000.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 68 02/04/2025 Experiencia de Prueba from QA #4 Argentina 3 - 4 1 - 5 $12,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "68"
        - cell "02/04/2025"
        - 'cell "Experiencia de Prueba from QA #4"'
        - cell "Argentina"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$12,500.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 67 02/04/2025 Experiencia de Prueba from QA #3 Argentina 3 - 4 1 - 5 $12,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "67"
        - cell "02/04/2025"
        - 'cell "Experiencia de Prueba from QA #3"'
        - cell "Argentina"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$12,500.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 66 02/04/2025 Experiencia de Prueba from QA #2 Argentina 3 - 4 1 - 5 $12,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "66"
        - cell "02/04/2025"
        - 'cell "Experiencia de Prueba from QA #2"'
        - cell "Argentina"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$12,500.00"
        - cell "Active"
        - cell:
          - img
      - row "Toggle menu 65 02/04/2025 Prueba Experiencia Andres Villarreta Colombia 2 - 3 1 - 3 $12,000.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "65"
        - cell "02/04/2025"
        - cell "Prueba Experiencia Andres Villarreta"
        - cell "Colombia"
        - cell "2 - 3"
        - cell "1 - 3"
        - cell "$12,000.00"
        - cell "Active"
        - cell:
          - img
      - row "Toggle menu 64 02/04/2025 Experiencia de Prueba para pruebas Automatizadas Argentina 3 - 4 1 - 5 $12,500.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "64"
        - cell "02/04/2025"
        - cell "Experiencia de Prueba para pruebas Automatizadas"
        - cell "Argentina"
        - cell "3 - 4"
        - cell "1 - 5"
        - cell "$12,500.00"
        - cell "Active"
        - cell:
          - img
      - row "Toggle menu 63 24/03/2025 Ejemplo Nueva Experiencia Cuzco Cusco, Peru 2 - 3 1 - 2 $5,000.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "63"
        - cell "24/03/2025"
        - cell "Ejemplo Nueva Experiencia Cuzco"
        - cell "Cusco, Peru"
        - cell "2 - 3"
        - cell "1 - 2"
        - cell "$5,000.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 62 20/03/2025 Bogotá Unveiled: A 3-Day Journey Through Culture, Nature & Gastronomy Bogota, Colombia 2 - 2 1 - 2 $4,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "62"
        - cell "20/03/2025"
        - 'cell "Bogotá Unveiled: A 3-Day Journey Through Culture, Nature & Gastronomy"'
        - cell "Bogota, Colombia"
        - cell "2 - 2"
        - cell "1 - 2"
        - cell "$4,500.00"
        - cell "Active"
        - cell:
          - img
      - row "Toggle menu 61 11/03/2025 Rise Above Teotihuacán Mexico 1 - 1 1 - 2 $450.00 Active":
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "61"
        - cell "11/03/2025"
        - cell "Rise Above Teotihuacán"
        - cell "Mexico"
        - cell "1 - 1"
        - cell "1 - 2"
        - cell "$450.00"
        - cell "Active"
        - cell:
          - img
      - 'row "Toggle menu 60 09/03/2025 Flavors of Mexico City: A Luxury Culinary Escape Mexico City, Mexico 2 - 2 1 - 5 $7,500.00 Active"':
        - cell "Toggle menu":
          - button "Toggle menu":
            - img
            - text: Toggle menu
        - cell "60"
        - cell "09/03/2025"
        - 'cell "Flavors of Mexico City: A Luxury Culinary Escape"'
        - cell "Mexico City, Mexico"
        - cell "2 - 2"
        - cell "1 - 5"
        - cell "$7,500.00"
        - cell "Active"
        - cell:
          - img
  - paragraph: Rows per page
  - combobox: "15"
  - text: Page 1 of 5
  - button "Go to first page" [disabled]:
    - text: Go to first page
    - img
  - button "Go to previous page" [disabled]:
    - text: Go to previous page
    - img
  - button "Go to next page":
    - text: Go to next page
    - img
  - button "Go to last page":
    - text: Go to last page
    - img
- region "Notifications alt+T"
- dialog:
  - navigation:
    - button "Go to the Previous Month":
      - img
    - button "Go to the Next Month":
      - img
  - button "April 2025"
  - grid "April 2025":
    - rowgroup:
      - row "Sunday, March 30th, 2025 Monday, March 31st, 2025 Tuesday, April 1st, 2025 Wednesday, April 2nd, 2025 Thursday, April 3rd, 2025 Friday, April 4th, 2025 Saturday, April 5th, 2025":
        - gridcell "Sunday, March 30th, 2025":
          - button "Sunday, March 30th, 2025": "30"
        - gridcell "Monday, March 31st, 2025":
          - button "Monday, March 31st, 2025": "31"
        - gridcell "Tuesday, April 1st, 2025":
          - button "Tuesday, April 1st, 2025": "1"
        - gridcell "Wednesday, April 2nd, 2025":
          - button "Wednesday, April 2nd, 2025": "2"
        - gridcell "Thursday, April 3rd, 2025":
          - button "Thursday, April 3rd, 2025": "3"
        - gridcell "Friday, April 4th, 2025":
          - button "Friday, April 4th, 2025": "4"
        - gridcell "Saturday, April 5th, 2025":
          - button "Saturday, April 5th, 2025": "5"
      - row "Sunday, April 6th, 2025 Monday, April 7th, 2025 Tuesday, April 8th, 2025 Wednesday, April 9th, 2025 Thursday, April 10th, 2025 Friday, April 11th, 2025 Saturday, April 12th, 2025":
        - gridcell "Sunday, April 6th, 2025":
          - button "Sunday, April 6th, 2025": "6"
        - gridcell "Monday, April 7th, 2025":
          - button "Monday, April 7th, 2025": "7"
        - gridcell "Tuesday, April 8th, 2025":
          - button "Tuesday, April 8th, 2025": "8"
        - gridcell "Wednesday, April 9th, 2025":
          - button "Wednesday, April 9th, 2025": "9"
        - gridcell "Thursday, April 10th, 2025":
          - button "Thursday, April 10th, 2025": "10"
        - gridcell "Friday, April 11th, 2025":
          - button "Friday, April 11th, 2025": "11"
        - gridcell "Saturday, April 12th, 2025":
          - button "Saturday, April 12th, 2025": "12"
      - row "Sunday, April 13th, 2025 Monday, April 14th, 2025 Tuesday, April 15th, 2025 Wednesday, April 16th, 2025 Thursday, April 17th, 2025 Friday, April 18th, 2025 Saturday, April 19th, 2025":
        - gridcell "Sunday, April 13th, 2025":
          - button "Sunday, April 13th, 2025": "13"
        - gridcell "Monday, April 14th, 2025":
          - button "Monday, April 14th, 2025": "14"
        - gridcell "Tuesday, April 15th, 2025":
          - button "Tuesday, April 15th, 2025": "15"
        - gridcell "Wednesday, April 16th, 2025":
          - button "Wednesday, April 16th, 2025": "16"
        - gridcell "Thursday, April 17th, 2025":
          - button "Thursday, April 17th, 2025": "17"
        - gridcell "Friday, April 18th, 2025":
          - button "Friday, April 18th, 2025": "18"
        - gridcell "Saturday, April 19th, 2025":
          - button "Saturday, April 19th, 2025": "19"
      - row "Sunday, April 20th, 2025 Monday, April 21st, 2025 Tuesday, April 22nd, 2025 Today, Wednesday, April 23rd, 2025 Thursday, April 24th, 2025 Friday, April 25th, 2025 Saturday, April 26th, 2025":
        - gridcell "Sunday, April 20th, 2025":
          - button "Sunday, April 20th, 2025": "20"
        - gridcell "Monday, April 21st, 2025":
          - button "Monday, April 21st, 2025": "21"
        - gridcell "Tuesday, April 22nd, 2025":
          - button "Tuesday, April 22nd, 2025": "22"
        - gridcell "Today, Wednesday, April 23rd, 2025":
          - button "Today, Wednesday, April 23rd, 2025": "23"
        - gridcell "Thursday, April 24th, 2025":
          - button "Thursday, April 24th, 2025": "24"
        - gridcell "Friday, April 25th, 2025":
          - button "Friday, April 25th, 2025": "25"
        - gridcell "Saturday, April 26th, 2025":
          - button "Saturday, April 26th, 2025": "26"
      - row "Sunday, April 27th, 2025 Monday, April 28th, 2025 Tuesday, April 29th, 2025 Wednesday, April 30th, 2025 Thursday, May 1st, 2025 Friday, May 2nd, 2025 Saturday, May 3rd, 2025":
        - gridcell "Sunday, April 27th, 2025":
          - button "Sunday, April 27th, 2025": "27"
        - gridcell "Monday, April 28th, 2025":
          - button "Monday, April 28th, 2025": "28"
        - gridcell "Tuesday, April 29th, 2025":
          - button "Tuesday, April 29th, 2025": "29"
        - gridcell "Wednesday, April 30th, 2025":
          - button "Wednesday, April 30th, 2025": "30"
        - gridcell "Thursday, May 1st, 2025":
          - button "Thursday, May 1st, 2025": "1"
        - gridcell "Friday, May 2nd, 2025":
          - button "Friday, May 2nd, 2025": "2"
        - gridcell "Saturday, May 3rd, 2025":
          - button "Saturday, May 3rd, 2025": "3"
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 |
   3 | export default class BasePage {
   4 |   constructor(page) {
   5 |     this.page = page;
   6 |     this.dashboardLink = page.locator('nav a[href*="/dashboard"]');
   7 |     this.requestsLink = page.locator('nav a[href*="/requests"]');
   8 |     this.projectsLink = page.locator('nav a[href*="/projects"]');
   9 |     this.experiencesLink = page.locator('nav a[href*="/experiences"]');
  10 |     this.vendorsLink = page.locator('nav a[href*="/vendors"]');
  11 |     this.tripUsersLink = page.locator('nav a[href*="/trip-users"]');
  12 |     this.filesLink = page.locator('nav a[href*="/files"]');
  13 |     this.tableHeaders = page.locator("table thead tr th div span");
  14 |     this.table = page.locator("table tbody");
  15 |     this.alltableItems = this.table.locator("tr");
  16 |   }
  17 |
  18 |   async getCurrentUrl() {
  19 |     return this.page.url();
  20 |   }
  21 |
  22 |   async getTableHeaders() {
  23 |     await this.tableHeaders.first().waitFor({ state: "visible" });
  24 |     return await this.tableHeaders.allTextContents();
  25 |   }
  26 |
  27 |   async getTableRowsCount() {
  28 |     await this.page.waitForSelector("table tbody tr", {state: "attached"});
  29 |     return await this.alltableItems.count(); 
  30 |   }
  31 |
  32 |   async filterByDateAndAssert(columnIndex, dateString) {
  33 |     const [day, month, year] = dateString.split('/').map(Number);
  34 |     const columnSelector = `thead tr th:nth-child(${columnIndex + 1})`;
  35 |     await this.page.locator(`${columnSelector} button[aria-haspopup="dialog"]`).click();
  36 |     const getCurrentMonthYear = async () => {
  37 |       const header = await this.page.locator('[role="dialog"] >> text=/^[A-Z][a-z]+ \\d{4}$/').textContent();
  38 |       const [currentMonthName, currentYear] = header.split(' ');
  39 |       const currentMonth = new Date(`${currentMonthName} 1, 2000`).getMonth() + 1;
  40 |       return { currentMonth, currentYear: parseInt(currentYear) };
  41 |     };
  42 |     while (true) {
  43 |       const { currentMonth, currentYear } = await getCurrentMonthYear();
  44 |       if (currentMonth === month && currentYear === year) break;
  45 |   
  46 |       if (currentYear > year || (currentYear === year && currentMonth > month)) {
  47 |         await this.page.locator('button[aria-label="Go to the Previous Month"]').click();
  48 |       } else {
  49 |         await this.page.locator('button[aria-label="Go to the Next Month"]').click();
  50 |       }
  51 |   
  52 |       await this.page.waitForTimeout(1000);
  53 |     }
> 54 |     await this.page.locator(`button:has-text("${day}")`).first().click();
     |                                                                  ^ Error: locator.click: Test timeout of 300000ms exceeded.
  55 |     await this.page.waitForTimeout(1000);
  56 |     await this.page.locator('body').click();
  57 |     const matchingCells = await this.page.locator(`tbody tr td:nth-child(${columnIndex + 1})`).allInnerTexts();
  58 |     
  59 |     const found = matchingCells.some(text => text.trim() === dateString);
  60 |     expect(found).toBeTruthy();
  61 |   };
  62 |
  63 |   async filterTableByColumnAndAssert(columnIndex, valueToFilter) {
  64 |     const filterInput = this.page.locator(`thead tr th:nth-child(${columnIndex + 1}) input`);
  65 |     await filterInput.fill(valueToFilter);
  66 |     await this.page.waitForTimeout(2500); 
  67 |     const matchingCells = await this.page.locator(`tbody tr td:nth-child(${columnIndex + 1})`).allInnerTexts();
  68 |
  69 |     const found = matchingCells.some(text => text.trim().includes(valueToFilter));
  70 |     expect(found).toBeTruthy();
  71 |   }
  72 |
  73 |   async filterTableByStatusAndAssert(columnIndex, valueToFilter) {
  74 |     const filterInput = this.page.locator(`thead tr th:nth-child(${columnIndex + 1}) button[role="combobox"]`);
  75 |     await filterInput.click();
  76 |     const regex = new RegExp(`^${valueToFilter.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}$`);
  77 |     await this.page.locator('div[data-radix-popper-content-wrapper]').getByText(regex).click();
  78 |     await this.page.waitForTimeout(1000); 
  79 |     const matchingCells = await this.page.locator(`tbody tr td:nth-child(${columnIndex + 1})`).allInnerTexts();
  80 |
  81 |     const found = matchingCells.some(text => text.trim().includes(valueToFilter));
  82 |     expect(found).toBeTruthy();
  83 |   }
  84 |
  85 |   delay = (milliseconds) => new Promise((resolve) => setTimeout(resolve, milliseconds));
  86 | }
  87 |
```